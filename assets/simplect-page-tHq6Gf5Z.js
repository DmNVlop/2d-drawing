import{r as R,j as i,P as r}from"./index-T6wk3FOQ.js";import{L as I,R as T,a as L,T as o,u,S as b}from"./widowsSizes.hook-KR-jGOf7.js";function P(t){var e,c,m,x,a,g,D,h;const[y,n]=R.useState(""),l=(f,d)=>{const s=new window.Image,j=f||"color";s.src=d,s.onload=()=>{n({fillPriority:j,img:s})}};return R.useEffect(()=>{var f,d;(f=t==null?void 0:t.itemData)!=null&&f.fillPatternImage&&l("pattern",(d=t==null?void 0:t.itemData)==null?void 0:d.fillPatternImage)},[(e=t==null?void 0:t.itemData)==null?void 0:e.fillPatternImage]),i.jsx(I,{children:i.jsx(T,{x:(c=t==null?void 0:t.itemData)==null?void 0:c.x,y:(m=t==null?void 0:t.itemData)==null?void 0:m.y,width:(x=t==null?void 0:t.itemData)==null?void 0:x.width,height:(a=t==null?void 0:t.itemData)==null?void 0:a.height,fill:(g=t==null?void 0:t.itemData)==null?void 0:g.fill,fillPriority:y.fillPriority,fillPatternImage:y.img,fillPatternRepeat:(D=t==null?void 0:t.itemData)==null?void 0:D.fillPatternRepeat,cornerRadius:(h=t==null?void 0:t.itemData)==null?void 0:h.cornerRadius})})}P.propTypes={itemData:r.object};function k(t){var a,g,D,h,f,d;const y=((a=t==null?void 0:t.itemData)==null?void 0:a.rotation)||0,n=((g=t==null?void 0:t.itemData)==null?void 0:g.length)||0,l=((D=t==null?void 0:t.itemData)==null?void 0:D.xRef)||0,e=((h=t==null?void 0:t.itemData)==null?void 0:h.yRef)||0,c=((f=t==null?void 0:t.itemData)==null?void 0:f.level)==1?20:60,m=((d=t==null?void 0:t.itemData)==null?void 0:d.level)==1?l+36:l+76,x=e+n/2-10;return i.jsxs(I,{children:[i.jsx(L,{points:[l+c,e,l+c,e+n],fill:"black",stroke:"black",strokeWidth:1}),i.jsx(L,{points:[l+c-10,e,l+c+10,e],fill:"black",stroke:"black",strokeWidth:1}),i.jsx(L,{points:[l+c-10,e+n,l+c+10,e+n],fill:"black",stroke:"black",strokeWidth:1}),i.jsx(o,{x:m,y:x,text:n,rotation:y,fontSize:16})]})}k.propTypes={itemData:r.object};const _={layerData:{xLayer:0,yLayer:0},partsData:[{id:1,x:0,y:0,width:500,height:200,fill:"#c7aa89",stroke:"black",rotation:0,fillPatternImage:"/images/patron-de-tablero-de-madera.png",fillPatternRepeat:"repeat",cornerRadius:[100,0,0,0]}]},E={layerData:{xLayer:0,yLayer:0},linesData:[{id:1,xRef:500,yRef:0,xInitRef:0,length:200,level:1,rotation:90},{id:2,xRef:500,yRef:0,xInitRef:0,length:100,level:2,rotation:90},{id:3,xRef:500,yRef:100,xInitRef:0,length:100,level:2,rotation:90}]},S={layerData:{xLayer:0,yLayer:0},partsData:[{id:1,x:0,y:0,width:500,height:500,fill:"#c7aa89",stroke:"black",rotation:0,fillPatternImage:"/images/patron-de-tablero-de-madera.png",fillPatternRepeat:"repeat",cornerRadius:[0,32,0,0]}]},C={layerData:{xLayer:0,yLayer:0},linesData:[{id:1,xRef:500,yRef:0,xInitRef:0,length:500,level:1,rotation:90},{id:2,xRef:500,yRef:0,xInitRef:0,length:32,level:2,rotation:90},{id:3,xRef:500,yRef:32,xInitRef:0,length:468,level:2,rotation:90}]},v={layerData:{xLayer:0,yLayer:0},partsData:[{id:1,x:0,y:0,width:500,height:500,fill:"#c7aa89",stroke:"black",rotation:0,fillPatternImage:"/images/patron-de-tablero-de-madera.png",fillPatternRepeat:"repeat",cornerRadius:[250,250,250,250]}]},w={layerData:{xLayer:0,yLayer:0},linesData:[{id:1,xRef:500,yRef:0,xInitRef:0,length:500,level:1,rotation:90}]};function M(t){const[y,n]=R.useState([]),[l,e]=R.useState([]),c=a=>{({simple:()=>{n(_.partsData),e(E.linesData)},square:()=>{n(S.partsData),e(C.linesData)},circle:()=>{n(v.partsData),e(w.linesData)}})[a]()};R.useEffect(()=>{c((t==null?void 0:t.shape)||"simple")});const m=u().stageWidth,x=u().stageHeight;return i.jsxs(i.Fragment,{children:[i.jsx("h2",{children:t.title}),i.jsxs(b,{width:m,height:x,draggable:!0,children:[y.map(a=>i.jsx(P,{itemData:a},a.id)),l.map(a=>i.jsx(k,{itemData:a},a.id))]})]})}M.propTypes={title:r.node,shape:r.node};export{M as default};
